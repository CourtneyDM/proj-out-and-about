<!DOCTYPE html>
<html>

<head>
    <style>
        #map {
            height: 400px;
            width: 100%;
        }
    </style>
</head>

<body>
    <h3>My Google Maps Demo</h3>
    <div id="map"></div>
    <script type="text/javascript" src="http://api.eventful.com/js/api"></script>
    <script>
        
        function show_alert() {
            var lat = "";
            var long = "";
            
            var oArgs = {

                app_key: "2DXR829kvdp9JrdB",

                location: "Dallas",
                category: "Coding",
                page_size: 5,
                sort_order: 'popularity',
                date: "Next Week"

            };

            EVDB.API.call("/events/search", oArgs, function (oData) {
                lat = parseFloat(oData.events.event[1].latitude);
                long = parseFloat(oData.events.event[1].longitude);
                initMap(lat, long, oData.events.event[1].title );
            
                console.log(oData);

            });
            

        }
        show_alert();
    </script>
    <script>
        function initMap(lat, long, title) {
            var infoWindow = new google.maps.InfoWindow;
            var uluru = { lat: lat, lng: long };
            infoWindow.setPosition(uluru);
            
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 15,
                center: uluru
            });
            var marker = new google.maps.Marker({
                position: uluru,
                map: map
            });
            marker.addListener('mouseover',function(e){
                infoWindow.open(map);
                infoWindow.setContent(title);
            });
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDPUWhQgbEHM3-FjpHcb4yqDBjZ2dwfMs0&callback=initMap">
    </script>

</body>

</html>